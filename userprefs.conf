#-------------------------------------#
# █ █ █▀ █▀▀ █▀█   █▀█ █▀█ █▀▀ █▀▀ █▀ #
# █▄█ ▄█ ██▄ █▀▄   █▀▀ █▀▄ ██▄ █▀  ▄█ #
#-------------------------------------#


# █▀▀ █▀▀ █▄░█ █▀▀ █▀█ ▄▀█ █░░
# █▄█ ██▄ █░▀█ ██▄ █▀▄ █▀█ █▄▄

general {
    allow_tearing                     = true
    layout                            = dwindle
    border_size                       = 0
    gaps_in                           = 4
    gaps_out                          = 60
    col.active_border                 = rgb(f5e0dc)
    col.inactive_border               = rgb(f5e0dc)
}


# █▀▀ █▀█ █▀█ █ █ █▀█
# █▄█ █▀▄ █▄█ █▄█ █▀▀

group {
    col.border_active                 = rgb(f5e0dc)
    col.border_inactive               = rgb(f5e0dc)
    col.border_locked_active          = rgb(f5e0dc)
    col.border_locked_inactive        = rgb(f5e0dc)
    groupbar {
        font_family                   = Monocraft
        font_size                     = 12
        height                        = 20
        text_color                    = rgb(313244)
        col.active                    = rgb(f5e0dc)
        col.inactive                  = rgb(11111b)
        col.locked_active             = rgb(f5e0dc)
        col.locked_inactive           = rgb(11111b)
    }
}


# █▀▄ █▀▀ █▀▀ █▀█ █▀█ ▄▀█ ▀█▀ █ █▀█ █▄░█
# █▄▀ ██▄ █▄▄ █▄█ █▀▄ █▀█ ░█░ █ █▄█ █░▀█

# decoration {
#     rounding                          = 0
#     active_opacity                    = 1
#     inactive_opacity                  = 1
#     fullscreen_opacity                = 1
#     drop_shadow                       = false
#     blur {
#         enabled                       = false
#         passes                        = 1
#         size                          = 1
#     }
# }

decoration {
    # rounding                          = 10
    rounding                          = 0
    active_opacity                    = 0.92
    inactive_opacity                  = 0.92
    fullscreen_opacity                = 1
    drop_shadow                       = false
    blur {
        enabled                       = true
        passes                        = 1
        size                          = 6
        new_optimizations             = true
        xray                          = false
        noise                         = 0.0
        contrast                      = 1.0
        brightness                    = 1
        vibrancy                      = 0
        vibrancy_darkness             = 0
        popups                        = true
    }
}


# █▀▀ █░█ █▀█ █▀ █▀█ █▀█
# █▄▄ █▄█ █▀▄ ▄█ █▄█ █▀▄

exec = hyprctl setcursor Bibata-Modern-Ice 20
exec = gsettings set org.gnome.desktop.interface cursor-theme 'Catppuccin-Mocha-Rosewater'
exec = gsettings set org.gnome.desktop.interface cursor-size 20


# █▀▀ █▀█ █▄░█ ▀█▀
# █▀░ █▄█ █░▀█ ░█░

exec = gsettings set org.gnome.desktop.interface font-name 'Monocraft 10'
exec = gsettings set org.gnome.desktop.interface document-font-name 'Monocraft 10'
exec = gsettings set org.gnome.desktop.interface monospace-font-name 'Monocraft 10'
exec = gsettings set org.gnome.desktop.interface font-antialiasing 'rgba'
exec = gsettings set org.gnome.desktop.interface font-hinting 'full'


# █ █▄░█ █▀█ █░█ ▀█▀
# █ █░▀█ █▀▀ █▄█ ░█░

input {
    kb_layout                         = us, ru
    numlock_by_default                = true
    touchpad {
        natural_scroll                = no
        disable_while_typing          = true
        drag_lock                     = true
    }

    sensitivity                       = 0
    force_no_accel                    = 0
}


device {
    name                              = epic mouse V1
    sensitivity                       = -0.5
}

gestures {
    workspace_swipe                   = true
    workspace_swipe_fingers           = 3
    workspace_swipe_touch             = true
    workspace_swipe_cancel_ratio      = 0.3
    workspace_swipe_create_new        = true
    workspace_swipe_forever           = true
}


# █░░ ▄▀█ █▄█ █▀█ █░█ ▀█▀ █▀
# █▄▄ █▀█ ░█░ █▄█ █▄█ ░█░ ▄█

dwindle {
    pseudotile                        = false
    preserve_split                    = yes
    force_split                       = 2
    smart_resizing                    = true
}

 
master {
    new_is_master                     = true
    mfact                             = 0.50
    new_on_top                        = true
    orientation                       = right
    smart_resizing                    = true
    always_center_master              = true
}


# █▀▄▀█ █ █▀ █▀▀
# █░▀░█ █ ▄█ █▄▄

misc {
    font_family                       = Monocraft
    vrr = 0
    disable_hyprland_logo             = true
    disable_splash_rendering          = true
    force_default_wallpaper           = 0
    animate_manual_resizes            = true
    animate_mouse_windowdragging      = true
}


# █▄▀ █▀▀ █▄█ █▄▄ █ █▄░█ █▀▄ █ █▄░█ █▀▀ █▀
# █░█ ██▄ ░█░ █▄█ █ █░▀█ █▄▀ █ █░▀█ █▄█ ▄█

# Super key assignment
$mainMod = Super

# GUI apps
$browser                              = firefox
$bt                                   = blueman-manager
$code                                 = code
$ds                                   = discord
$tg                                   = telegram-desktop
$vb                                   = virtualbox

# TUI apps
$zathuraTiled                  = zathura
$clockTiled                    = kitty -o font_size=36 -o window_padding_width=0 -e tty-clock -c
$clock                         = kitty -o font_size=10 -o window_padding_width=0 -e tty-clock -c
$musicTiled                    = kitty -o font_size=16 -o window_padding_width=0 -e kew
$music                         = kitty -o font_size=14 -o window_padding_width=0 -e kew
$cavaTiled                     = kitty -o font_size=16 -o window_padding_width=0 -e cava
$cava                          = kitty -o font_size=14 -o window_padding_width=0 -e cava
$yaziTiled                     = kitty -o font_size=16 -o window_padding_width=0 -e yazi
$yazi                          = kitty -o font_size=15 -o window_padding_width=0 -e yazi
$nvimTiled                     = kitty -o font_size=17 -o window_padding_width=0 -e nvim
$nvim                          = kitty -o font_size=9  -o window_padding_width=0 -e nvim
$termTiled                     = kitty -o font_size=13 -o window_padding_width=10
$term                          = kitty -o font_size=10 -o window_padding_width=6
$term1                         = kitty -o font_size=10 -o window_padding_width=6
$term2                         = kitty -o font_size=11 -o window_padding_width=6
$term3                         = kitty -o font_size=11 -o window_padding_width=6
$term4                         = kitty -o font_size=11 -o window_padding_width=6

# Tiled app shortcuts
bind = $mainMod,      E,       exec,[tiled]                      dolphin
bind = $mainMod,      O,       exec,[tiled]                      obsidian
bind = $mainMod,      T,       exec,[tiled]                      $tg
bind = $mainMod,      D,       exec,[tiled]                      $ds
bind = $mainMod,      F,       exec,[tiled]                      $browser
bind = $mainMod,      Z,       exec,[tiled]                      $zathura
bind = $mainMod,      V,       exec,[tiled]                      $cavaTiled
bind = $mainMod,      C,       exec,[tiled]                      $clockTiled
bind = $mainMod,      M,       exec,[tiled]                      $musicTiled
bind = $mainMod,      N,       exec,[tiled]                      $nvimTiled
bind = $mainMod,      Y,       exec,[tiled]                      $yaziTiled
bind = $mainMod,      Return,  exec,[tiled]                      $termTiled

# Float app shortcuts
bind = $mainMod CTRL, B,       exec,[float; size 560 380: center]$bt
bind = $mainMod ALT,  E,       exec,[float; size 540 540; center]dolphin
bind = $mainMod ALT,  T,       exec,[float; size 480 960; center]$tg
bind = $mainMod ALT,  V,       exec,[float; size 780 440; center]$cava
bind = $mainMod ALT,  M,       exec,[float; size 620 620; center]$music
bind = $mainMod ALT,  C,       exec,[float; size 330 130; center]$clock
bind = $mainMod ALT,  N,       exec,[float; size 780 520; center]$nvim
bind = $mainMod ALT,  Y,       exec,[float; size 780 440; center]$yazi
bind = $mainMod ALT,  Z,       exec,[float; size 780 440; center]$zathura
bind = $mainMod ALT,  Return,  exec,[float; size 660 380: center]$term
bind = CTRL,          1,       exec,[float; size 480 380; center]$term1
bind = CTRL,          2,       exec,[float; size 750 420; center]$term2
bind = CTRL,          3,       exec,[float; size 480 960; center]$term3
bind = CTRL,          4,       exec,[float; size 960 960; center]$term4
bind = CTRL,          KP_END,  exec,[float; size 480 380; center]$term1
bind = CTRL,          KP_DOWN, exec,[float; size 750 420; center]$term2
bind = CTRL,          KP_NEXT, exec,[float; size 480 960; center]$term3
bind = CTRL,          KP_LEFT, exec,[float; size 960 960; center]$term4

# Switch workspaces
bind = $mainMod,            1,          workspace,             1
bind = $mainMod,            2,          workspace,             2
bind = $mainMod,            3,          workspace,             3
bind = $mainMod,            4,          workspace,             4
bind = $mainMod,            5,          workspace,             5
bind = $mainMod,            6,          workspace,             6
bind = $mainMod,            7,          workspace,             7
bind = $mainMod,            8,          workspace,             8
bind = $mainMod,            9,          workspace,             9

bind = $mainMod,            KP_END,     workspace,             1
bind = $mainMod,            KP_DOWN,    workspace,             2
bind = $mainMod,            KP_NEXT,    workspace,             3
bind = $mainMod,            KP_LEFT,    workspace,             4
bind = $mainMod,            KP_BEGIN,   workspace,             5
bind = $mainMod,            KP_RIGHT,   workspace,             6
bind = $mainMod,            KP_HOME,    workspace,             7
bind = $mainMod,            KP_UP,      workspace,             8
bind = $mainMod,            KP_PRIOR,   workspace,             9

# Move focused window to a workspace
bind = $mainMod SHIFT,      1,          movetoworkspace,       1
bind = $mainMod SHIFT,      2,          movetoworkspace,       2
bind = $mainMod SHIFT,      3,          movetoworkspace,       3
bind = $mainMod SHIFT,      4,          movetoworkspace,       4
bind = $mainMod SHIFT,      5,          movetoworkspace,       5
bind = $mainMod SHIFT,      6,          movetoworkspace,       6
bind = $mainMod SHIFT,      7,          movetoworkspace,       7
bind = $mainMod SHIFT,      8,          movetoworkspace,       8
bind = $mainMod SHIFT,      9,          movetoworkspace,       9

bind = $mainMod SHIFT,      KP_END,     movetoworkspace,       1
bind = $mainMod SHIFT,      KP_DOWN,    movetoworkspace,       2
bind = $mainMod SHIFT,      KP_NEXT,    movetoworkspace,       3
bind = $mainMod SHIFT,      KP_LEFT,    movetoworkspace,       4
bind = $mainMod SHIFT,      KP_BEGIN,   movetoworkspace,       5
bind = $mainMod SHIFT,      KP_RIGHT,   movetoworkspace,       6
bind = $mainMod SHIFT,      KP_HOME,    movetoworkspace,       7
bind = $mainMod SHIFT,      KP_UP,      movetoworkspace,       8
bind = $mainMod SHIFT,      KP_PRIOR,   movetoworkspace,       9

# Move focused window to a relative workspace
bind = $mainMod CTRL ALT,   L,          movetoworkspace,       r+1
bind = $mainMod CTRL ALT,   H,          movetoworkspace,       r-1

# Move focused window to a workspace silently
bind = $mainMod ALT,        1,          movetoworkspacesilent, 1
bind = $mainMod ALT,        2,          movetoworkspacesilent, 2
bind = $mainMod ALT,        3,          movetoworkspacesilent, 3
bind = $mainMod ALT,        4,          movetoworkspacesilent, 4
bind = $mainMod ALT,        5,          movetoworkspacesilent, 5
bind = $mainMod ALT,        6,          movetoworkspacesilent, 6
bind = $mainMod ALT,        7,          movetoworkspacesilent, 7
bind = $mainMod ALT,        8,          movetoworkspacesilent, 8
bind = $mainMod ALT,        9,          movetoworkspacesilent, 9

bind = $mainMod ALT,        KP_END,     movetoworkspacesilent, 1
bind = $mainMod ALT,        KP_DOWN,    movetoworkspacesilent, 2
bind = $mainMod ALT,        KP_NEXT,    movetoworkspacesilent, 3
bind = $mainMod ALT,        KP_LEFT,    movetoworkspacesilent, 4
bind = $mainMod ALT,        KP_BEGIN,   movetoworkspacesilent, 5
bind = $mainMod ALT,        KP_RIGHT,   movetoworkspacesilent, 6
bind = $mainMod ALT,        KP_HOME,    movetoworkspacesilent, 7
bind = $mainMod ALT,        KP_UP,      movetoworkspacesilent, 8
bind = $mainMod ALT,        KP_PRIOR,   movetoworkspacesilent, 9

# Move focused window to a relative workspace silently
bind = $mainMod SHIFT ALT,  L,          movetoworkspacesilent, r+1
bind = $mainMod SHIFT ALT,  H,          movetoworkspacesilent, r-1

# Move focus
bind = $mainMod,            H,          movefocus,             l
bind = $mainMod,            J,          movefocus,             d
bind = $mainMod,            K,          movefocus,             u
bind = $mainMod,            L,          movefocus,             r
bind = $mainMod,            left,       movefocus,             l
bind = $mainMod,            down,       movefocus,             d
bind = $mainMod,            up,         movefocus,             u
bind = $mainMod,            right,      movefocus,             r

# Move focused window around the current workspace
bind = $mainMod SHIFT CTRL, H,          movewindow,            l
bind = $mainMod SHIFT CTRL, J,          movewindow,            d
bind = $mainMod SHIFT CTRL, K,          movewindow,            u
bind = $mainMod SHIFT CTRL, L,          movewindow,            r
bind = $mainMod SHIFT CTRL, Left,       movewindow,            l
bind = $mainMod SHIFT CTRL, Right,      movewindow,            r
bind = $mainMod SHIFT CTRL, Up,         movewindow,            u
bind = $mainMod SHIFT CTRL, Down,       movewindow,            d

# Resize windows
bind = $mainMod SHIFT,      H,          resizeactive,         -30 0
bind = $mainMod SHIFT,      J,          resizeactive,          0  30
bind = $mainMod SHIFT,      K,          resizeactive,          0 -30
bind = $mainMod SHIFT,      L,          resizeactive,          30 0
bind = $mainMod SHIFT,      Right,      resizeactive,          30 0
bind = $mainMod SHIFT,      Left,       resizeactive,         -30 0
bind = $mainMod SHIFT,      Up,         resizeactive,          0 -30
bind = $mainMod SHIFT,      Down,       resizeactive,          0  30

# Scroll through existing workspaces
bind = $mainMod,            mouse_down, workspace, e+1
bind = $mainMod,            mouse_up,   workspace, e-1

# Switch workspaces to a relative workspace
bind = $mainMod ALT,        H,          workspace,             r-1
bind = $mainMod ALT,        L,          workspace,             r+1

# Move to the first empty workspace
bind = $mainMod CTRL,       Space,      workspace, empty

# Move to next window in a group
bind = $mainMod CTRL,       H,          changegroupactive,     b
bind = $mainMod CTRL,       L,          changegroupactive,     f
bind = $mainMod CTRL,       left,       changegroupactive,     b
bind = $mainMod CTRL,       right,      changegroupactive,     f

# Move focused window into the group
bind = $mainMod CTRL,       H,          moveintogroup,         l
bind = $mainMod CTRL,       J,          moveintogroup,         d
bind = $mainMod CTRL,       K,          moveintogroup,         u
bind = $mainMod CTRL,       L,          moveintogroup,         r
bind = $mainMod CTRL,       Right,      moveintogroup,         l
bind = $mainMod CTRL,       Left,       moveintogroup,         d
bind = $mainMod CTRL,       Up,         moveintogroup,         u
bind = $mainMod CTRL,       Down,       moveintogroup,         r

# Move focused window out of the group
bind = $mainMod CTRL,       O,          moveoutofgroup,        active

#------#
# MISC |
#------#

bind = $mainMod,            Delete,    exit,
bind = $mainMod,            Space,     togglefloating
bind = $mainMod,            Escape,    exec, $scrPath/keybinds_hint.sh
bind = $mainMod,            Backspace, exec, $scrPath/logoutlaunch.sh
bind = $mainMod,            S,         exec, pkill -x rofi || $scrPath/cliphist.sh c
bind = $mainMod,            G,         togglegroup,
bind = $mainMod,            U,         exec, [float; size 660 360; center] $scrPath/systemupdate.sh up
bind = $mainMod,            B,         exec, bluetoothctl connect 2C:BE:EB:71:C9:5C
bind = $mainMod ALT,        B,         exec, bluetoothctl disconnect 2C:BE:EB:71:C9:5C
bind = $mainMod SHIFT,      E,         exec, pkill -x rofi || $scrPath/rofilaunch.sh f # launch file explorer
bind = CTRL ALT,            K,         exec, $scrPath/keyboardswitch.sh
bind = ALT,                 Tab,       movefocus, d
bind = CTRL,                Return,    fullscreen
bind = CTRL,                Escape,    exec, killall waybar || waybar
bind = Super,               Super_L,   exec, pkill -x rofi || $scrPath/rofilaunch.sh d # launch application launcher

bind = $mainMod SHIFT,      Return,    togglesplit
bind = $mainMod ALT,        A,         exec, pkill -x pamusb-agent || $scrPath/pamusbagent.sh
bind = $mainMod SHIFT,      V,         exec, killall pamusb-agent
